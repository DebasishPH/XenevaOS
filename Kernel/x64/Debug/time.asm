; Listing generated by Microsoft (R) Optimizing Compiler Version 18.00.21005.1 

include listing.inc

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

PUBLIC	AuGetCurrentTime
EXTRN	AuRTCGetYear:PROC
EXTRN	AuRTCGetCentury:PROC
EXTRN	AuRTCGetMinutes:PROC
EXTRN	AuRTCGetSecond:PROC
EXTRN	AuRTCGetDay:PROC
EXTRN	AuRTCGetHour:PROC
EXTRN	AuRTCGetMonth:PROC
pdata	SEGMENT
$pdata$AuGetCurrentTime DD imagerel $LN4
	DD	imagerel $LN4+114
	DD	imagerel $unwind$AuGetCurrentTime
pdata	ENDS
xdata	SEGMENT
$unwind$AuGetCurrentTime DD 010901H
	DD	04209H
xdata	ENDS
; Function compile flags: /Odtpy
; File e:\xeneva project\aurora\kernel\time.cpp
_TEXT	SEGMENT
time$ = 48
AuGetCurrentTime PROC

; 37   : AU_EXTERN AU_EXPORT void AuGetCurrentTime(AuTime* time) {

$LN4:
	mov	QWORD PTR [rsp+8], rcx
	sub	rsp, 40					; 00000028H

; 38   : 	if (!time)

	cmp	QWORD PTR time$[rsp], 0
	jne	SHORT $LN1@AuGetCurre

; 39   : 		return;

	jmp	SHORT $LN2@AuGetCurre
$LN1@AuGetCurre:

; 40   : 	time->century = AuRTCGetCentury();

	call	AuRTCGetCentury
	mov	rcx, QWORD PTR time$[rsp]
	mov	BYTE PTR [rcx], al

; 41   : 	time->day = AuRTCGetDay();

	call	AuRTCGetDay
	mov	rcx, QWORD PTR time$[rsp]
	mov	BYTE PTR [rcx+3], al

; 42   : 	time->hour = AuRTCGetHour();

	call	AuRTCGetHour
	mov	rcx, QWORD PTR time$[rsp]
	mov	BYTE PTR [rcx+4], al

; 43   : 	time->minute = AuRTCGetMinutes();

	call	AuRTCGetMinutes
	mov	rcx, QWORD PTR time$[rsp]
	mov	BYTE PTR [rcx+5], al

; 44   : 	time->month = AuRTCGetMonth();

	call	AuRTCGetMonth
	mov	rcx, QWORD PTR time$[rsp]
	mov	BYTE PTR [rcx+2], al

; 45   : 	time->second = AuRTCGetSecond();

	call	AuRTCGetSecond
	mov	rcx, QWORD PTR time$[rsp]
	mov	BYTE PTR [rcx+6], al

; 46   : 	time->year = AuRTCGetYear();

	call	AuRTCGetYear
	mov	rcx, QWORD PTR time$[rsp]
	mov	BYTE PTR [rcx+1], al
$LN2@AuGetCurre:

; 47   : }

	add	rsp, 40					; 00000028H
	ret	0
AuGetCurrentTime ENDP
_TEXT	ENDS
END
